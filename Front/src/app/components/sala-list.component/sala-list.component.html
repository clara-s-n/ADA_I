<div class="min-h-screen bg-[#4B7753] border-gray-300 relative overflow-hidden pb-32">
  <!-- Top Bar / Buscador -->
  <div class="w-fit mx-auto mt-12 mb-20 flex items-center rounded-full bg-white px-8 py-4 shadow-sm space-x-6"
    style="min-width: 480px; max-width: 1000px;">
    <!-- Capacidad -->
    <div>
      <div class="text-xs text-gray-600 leading-tight">Capacidad</div>
      <input type="number" [(ngModel)]="filtro.capacidad" placeholder="¿Cuántos?"
        class="w-32 bg-transparent focus:outline-none text-base" />
    </div>

    <div class="h-8 border-l border-gray-300 mx-2"></div>

    <!-- Llegada -->
    <div>
      <div class="text-xs text-gray-600 leading-tight">Llegada</div>
      <input type="date" [(ngModel)]="filtro.llegada" class="w-40 bg-transparent focus:outline-none text-base" />
    </div>

    <div class="h-8 border-l border-gray-300 mx-2"></div>

    <!-- Salida -->
    <div>
      <div class="text-xs text-gray-600 leading-tight">Salida</div>
      <input type="date" [(ngModel)]="filtro.salida" class="w-40 bg-transparent focus:outline-none text-base" />
    </div>

    <div class="h-8 border-l border-gray-300 mx-2"></div>

    <!-- Nombre -->
    <div>
      <div class="text-xs text-gray-600 leading-tight">Nombre</div>
      <input type="text" [(ngModel)]="filtro.nombre" placeholder="Buscar sala..."
        class="w-40 bg-transparent focus:outline-none text-base" />
    </div>

    <!-- Botón Buscar -->
    <button (click)="filtrarSalas()" class="ml-4">
      <svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-8 text-gray-700" fill="none" viewBox="0 0 24 24"
        stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
          d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z" />
      </svg>
    </button>
  </div>

  <!-- Salas Grid Mejorado -->
  <div class="max-w-7xl mx-auto">
    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-4 gap-10 mt-16">
      <ng-container *ngIf="salasFiltradas.length > 0; else sinSalas">
        <a *ngFor="let sala of salasFiltradas" [routerLink]="['/salas', sala.id]"
          class="flex flex-col items-center select-none hover:scale-105 transition-transform duration-200">
          <div class="bg-white rounded-xl px-8 py-8 flex flex-col items-center justify-between w-64 h-64">
            <div class="text-center text-xl font-bold mb-6 break-words w-full h-12 flex items-center justify-center">
              {{ sala.nombre }}
            </div>
            <ng-container [ngSwitch]="sala.estado.nombre">
              <img *ngSwitchCase="'libre'" src="assets/icons/meeting-room.png" alt="Sala libre"
                class="w-20 h-20 mb-2" />
              <img *ngSwitchCase="'ocupado'" src="assets/icons/meeting-room-ocupada.png" alt="Sala ocupada"
                class="w-20 h-20 mb-2" />
              <img *ngSwitchCase="'en_limpieza'" src="assets/icons/meeting-room-limpieza.png" alt="Sala en limpieza"
                class="w-20 h-20 mb-2" />
              <img *ngSwitchCase="'en_mantenimiento'" src="assets/icons/meeting-room-mantenimiento.png"
                alt="Sala en mantenimiento" class="w-20 h-20 mb-2" />
              <img *ngSwitchDefault src="assets/icons/meeting-room.png" alt="Sala" class="w-20 h-20 mb-2" />
            </ng-container>
          </div>
        </a>
      </ng-container>
    </div>
  </div>

  <ng-template #sinSalas>
    <p class="text-white text-center text-lg mt-8">
      No hay salas para mostrar.
    </p>
  </ng-template>

  <!-- Botón de volver -->
  <div class="text-center mt-16">
    <a routerLink="/"
      class="inline-block bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-full shadow-md transition duration-200">
      ← Volver al inicio
    </a>
  </div>
</div>